/**
 * Toolbar Module Styles - Material 3
 */

/* Top App Bar Container */
.toolbar {
  display: flex;
  align-items: center;
  justify-content: space-between;
  padding: var(--md-sys-spacing-2) var(--md-sys-spacing-3);
  background: var(--md-sys-color-surface-container);
  border-bottom: var(--md-sys-comp-divider-thickness) solid var(--md-sys-color-outline-variant);
  gap: var(--md-sys-spacing-3);
  min-height: 56px;
}

/* Button Groups */
.tb-group {
  display: flex;
  align-items: center;
  gap: var(--md-sys-spacing-1);
}

/* Checkbox with label */
.tb-check-wrapper {
  display: flex;
  align-items: center;
  gap: var(--md-sys-spacing-2);
  padding: var(--md-sys-spacing-1) var(--md-sys-spacing-2);
  border-radius: var(--md-sys-shape-small);
  transition: background var(--md-sys-motion-duration-short3) var(--md-sys-motion-easing-standard);
}

.tb-check-wrapper:hover {
  background: color-mix(in srgb, var(--md-sys-color-on-surface) calc(var(--md-sys-state-hover-opacity) * 100%), transparent);
}

.tb-check-label {
  font-size: var(--md-sys-typescale-label-medium-size);
  font-weight: var(--md-sys-typescale-label-medium-weight);
  color: var(--md-sys-color-on-surface-variant);
  user-select: none;
  cursor: pointer;
}

/* Layout Select - compact style */
#tb-layout-preset {
  min-width: 72px;
  height: var(--md-sys-comp-button-height-small);
  padding: 0 var(--md-sys-spacing-6) 0 var(--md-sys-spacing-3);
  font-size: var(--md-sys-typescale-label-medium-size);
}

/* Arrow flip for side button */
#tb-board-side .arrow {
  transition: transform var(--md-sys-motion-duration-short3) var(--md-sys-motion-easing-standard);
}

#tb-board-side[data-side="left"] .arrow {
  transform: rotate(180deg);
}

/* ============================================
   BROKER PICKER - M3 Menu Style
   ============================================ */
.broker-picker {
  position: fixed;
  z-index: 1000;
  min-width: 200px;
  max-width: 280px;
  border-radius: var(--md-sys-shape-medium);
  background: var(--md-sys-color-surface-container);
  box-shadow: var(--md-sys-elevation-3);
  overflow: hidden;
  /* Enter animation */
  opacity: 0;
  transform: scaleY(0.9) translateY(-8px);
  transform-origin: top left;
  transition: 
    opacity var(--md-sys-motion-duration-short4) var(--md-sys-motion-easing-emphasized-decelerate),
    transform var(--md-sys-motion-duration-short4) var(--md-sys-motion-easing-emphasized-decelerate);
  pointer-events: none;
}

.broker-picker:not(.md-hidden) {
  opacity: 1;
  transform: scaleY(1) translateY(0);
  pointer-events: auto;
}

.picker-title {
  padding: var(--md-sys-spacing-3) var(--md-sys-spacing-4);
  font-size: var(--md-sys-typescale-title-small-size);
  font-weight: var(--md-sys-typescale-title-small-weight);
  color: var(--md-sys-color-on-surface-variant);
  background: var(--md-sys-color-surface-container-high);
  border-bottom: var(--md-sys-comp-divider-thickness) solid var(--md-sys-color-outline-variant);
}

.picker-list {
  max-height: 280px;
  overflow-y: auto;
  padding: var(--md-sys-spacing-2);
}

.picker-item {
  position: relative;
  display: flex;
  align-items: center;
  width: 100%;
  min-height: 48px;
  padding: 0 var(--md-sys-spacing-4);
  font-family: var(--md-sys-typescale-font-family-plain);
  font-size: var(--md-sys-typescale-body-large-size);
  text-align: left;
  color: var(--md-sys-color-on-surface);
  background: transparent;
  border: none;
  border-radius: var(--md-sys-shape-small);
  cursor: pointer;
  overflow: hidden;
  transition: background var(--md-sys-motion-duration-short3) var(--md-sys-motion-easing-standard);
}

/* State layer */
.picker-item::before {
  content: '';
  position: absolute;
  inset: 0;
  background: var(--md-sys-color-on-surface);
  opacity: 0;
  transition: opacity var(--md-sys-motion-duration-short3) var(--md-sys-motion-easing-standard);
  border-radius: inherit;
}

.picker-item:hover::before {
  opacity: var(--md-sys-state-hover-opacity);
}

.picker-item:active::before {
  opacity: var(--md-sys-state-pressed-opacity);
}

.picker-item:focus-visible {
  outline: var(--md-sys-comp-focus-ring-width) solid var(--md-sys-color-primary);
  outline-offset: calc(-1 * var(--md-sys-comp-focus-ring-offset));
}

/* Empty state */
.picker-empty {
  padding: var(--md-sys-spacing-4);
  text-align: center;
  color: var(--md-sys-color-on-surface-variant);
  font-size: var(--md-sys-typescale-body-medium-size);
}
