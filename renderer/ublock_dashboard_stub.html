<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>uBlock â€” Dashboard (Stub)</title>
  <style>
    :root { --bg:#0b0e11; --panel:#141b21; --accent:#3d79d2; --accent-h:#4c89e3; --text:#dbe1e7; --text-dim:#9aa4ad; }
    html,body { margin:0; padding:0; background:var(--bg); color:var(--text); font:13px/1.4 "Segoe UI",Roboto,Arial,sans-serif; }
    #nav { display:flex; background:#10161b; border-bottom:1px solid #1f2931; }
    #nav button { background:transparent; border:0; padding:9px 14px; cursor:pointer; color:var(--text-dim); font-weight:500; }
    #nav button.active { background:var(--panel); color:var(--text); border-bottom:2px solid var(--accent); }
    #nav button:hover { color:var(--text); }
    #nav .spacer { flex:1; }
    #nav .title { padding:9px 14px; font-weight:600; color:var(--accent); }
    iframe { width:100%; height:calc(100vh - 42px); border:0; background:#12171c; }
    #banner { background:#1c262e; color:var(--text-dim); padding:4px 10px; font-size:11px; border-bottom:1px solid #24303a; }
    a { color:var(--accent); }
  </style>
</head>
<body>
  <div id="banner">Local stub: background scripts unavailable. Some dynamic stats & syncing are disabled. You can still view and edit lists directly.</div>
  <div id="nav"></div>
  <iframe id="frame" sandbox="allow-scripts allow-same-origin"></iframe>

  <script>
  (function(){
    const PAGES = [
      { id:'settings', label:'Settings', file:'settings.html' },
      { id:'filter-lists', label:'Filter lists', file:'3p-filters.html' },
      { id:'my-filters', label:'My filters', file:'1p-filters.html' },
      { id:'my-rules', label:'My rules', file:'dyna-rules.html' },
      { id:'trusted', label:'Trusted sites', file:'whitelist.html' },
      { id:'support', label:'Support', file:'support.html' },
      { id:'about', label:'About', file:'about.html' }
    ];
    const nav = document.getElementById('nav');
    const iframe = document.getElementById('frame');
    const base = (function(){ // relative path from this stub to ublock dir
      // stub is in renderer/, ublock folder is ../ublock
      return '../ublock/';
    })();
    function setPage(p){
      document.querySelectorAll('#nav button').forEach(b=> b.classList.remove('active'));
      const btn = document.querySelector(`#nav button[data-id="${p.id}"]`);
      if(btn) btn.classList.add('active');
      iframe.src = base + p.file;
      history.replaceState({},'', '#'+p.id);
    }
    PAGES.forEach(p=>{
      const b=document.createElement('button');
      b.textContent=p.label; b.dataset.id=p.id;
      b.addEventListener('click', ()=> setPage(p));
      nav.appendChild(b);
    });
    const start = PAGES.find(p=> p.id === location.hash.slice(1)) || PAGES[0];
    setPage(start);
  })();
  </script>
</body>
</html>
